diff --git a/nanoftp.c b/nanoftp.c
index 54fa026..0432892 100644
--- a/nanoftp.c
+++ b/nanoftp.c
@@ -47,9 +47,13 @@
 #ifdef HAVE_SYS_TIME_H
 #include <sys/time.h>
 #endif
+#ifndef HAVE_POLL_H
 #ifdef HAVE_SYS_SELECT_H
 #include <sys/select.h>
 #endif
+#else
+#include <poll.h>
+#endif
 #ifdef HAVE_SYS_SOCKET_H
 #include <sys/socket.h>
 #endif
